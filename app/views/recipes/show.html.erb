<div class="container p-5">

<% if notice.present? %>
<div id="notice" class="alert alert-success alert-dismissible fade show" role="alert">
    <h6><%= notice %></h6>
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<% end %>

<div class = "d-flex justify-content-between">
<div class="mr-5">
<%= link_to recipes_path do %>
<button class = "btn btn-outline-info mb-2">
<i class="fas fa-chevron-left"></i>
</button>
<% end %>
</div>
 <div>
 <% if @recipe.user == current_user %>
 <%= form_tag recipe_collaborations_path(@recipe), class: "d-flex" do %>
  <%= text_field_tag :search, params[:search], placeholder: "Share Recipe", class: "form-control", required: true %>
  <%= submit_tag "Add User", class: "btn btn-outline-info" %>
 <% end %>
 <% end %>
</div>
</div>

  <div class="row d-flex justify-content-between">
   <div>  
     <%= image_tag @recipe.image, style: "width:25em; height:24em", alt: "Recipes" %>
   </div>

    <div id="titleRecipe" class="border shadow text-center d-flex flex-column justify-content-between">
    <h1 class = "mt-5"><%= @recipe.title %></h1>
    <h6> By:<%= @recipe.user.username %></h6>
      <div class="d-flex justify-content-between p-2">
      <div class="d-flex">
        <button class="btn btn-danger"><i class="far fa-thumbs-up"></i></button>
      </div>
       <div>
       <div class="d-flex">
       <%= link_to recipe_users_update_path(recipe: @recipe), id:'favorite_link', class: 'text-decoration-none mr-2 mt-1', remote: true do %>
        <i id="favorite-icon" class="<%= favorite_text %>"></i>
        <% end %>

       <button type="button" class="btn btn-info mr-2" data-toggle="modal" data-target="#exampleModal">
          <i class="fas fa-user-friends" title="Contributors"></i>
        </button>

       <% if policy(@recipe).edit? %>
       <%= link_to edit_recipe_path(@recipe)  do %>
       <button class="btn btn-outline-info "> <i class="far fa-edit" title="Edit"></i> </button>
       <% end %>
       <% end %>

       </div>
       </div>
      </div>
    </div>
  </div>

  <div class="row d-flex justify-content-between mt-5">
  <div  class="col-4 border shadow text-center">
  <h5>Ingredients</h5>
  <p><%= @recipe.ingredients %></p>
  </div>

  <div id="decriptionRecipe" class = "col-6 border shadow text-center">
  <h5>Description</h5>
  <%= @recipe.description %>
  </div>
 
  </div>

</div>
<%= render 'layouts/favorites' %>
<%= render 'layouts/collaboration' %>
